<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Quiz App</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #quiz, #topic-menu, #question-container, #result-container { display:none; }
    button { margin: 5px; padding: 10px 15px; border:none; border-radius:8px; background:#4CAF50; color:white; cursor:pointer; }
    button:hover { background:#45a049; }
    .card { margin:10px 0; padding:10px; border:1px solid #ddd; border-radius:8px; }
  </style>
</head>
<body>
  <!-- Section Menu -->
  <div id="section-menu">
    <h2>Choose Section</h2>
    <button onclick="openTopics('history')">History</button>
    <button onclick="openTopics('economics')">Economics</button>
  </div>

  <!-- Topic Menu -->
  <div id="topic-menu"></div>

  <!-- Quiz Container -->
  <div id="quiz">
    <div id="question-container"></div>
    <div class="buttons">
      <button onclick="prevQuestion()">‚¨Ö Prev</button>
      <button onclick="nextQuestion()">Next ‚û°</button>
      <button onclick="showResult()">‚úÖ Finish</button>
    </div>
  </div>

  <!-- Result -->
  <div id="result-container"></div>

  <script>
    // Questions Data
    let sections = {
      history: {
        harappa: [
          {question:"‡§π‡§°‡§º‡§™‡•ç‡§™‡§æ ‡§∏‡§≠‡•ç‡§Ø‡§§‡§æ ‡§ï‡§π‡§æ‡§Å ‡§∏‡•ç‡§•‡§ø‡§§ ‡§•‡•Ä?", options:["‡§∏‡§ø‡§Ç‡§ß‡•Å ‡§ò‡§æ‡§ü‡•Ä","‡§Æ‡•á‡§∏‡•ã‡§™‡•ã‡§ü‡§æ‡§Æ‡§ø‡§Ø‡§æ","‡§Æ‡§ø‡§∏‡•ç‡§∞","‡§ö‡•Ä‡§®"], answer:"‡§∏‡§ø‡§Ç‡§ß‡•Å ‡§ò‡§æ‡§ü‡•Ä"},
          {question:"‡§Æ‡•ã‡§π‡§®‡§ú‡•ã‡§¶‡§°‡§º‡•ã ‡§ï‡§ø‡§∏ ‡§®‡§¶‡•Ä ‡§ï‡•á ‡§ï‡§ø‡§®‡§æ‡§∞‡•á ‡§•‡§æ?", options:["‡§∏‡§ø‡§Ç‡§ß‡•Å","‡§ó‡§Ç‡§ó‡§æ","‡§Ø‡§Æ‡•Å‡§®‡§æ","‡§®‡§∞‡•ç‡§Æ‡§¶‡§æ"], answer:"‡§∏‡§ø‡§Ç‡§ß‡•Å"}
        ],
        maurya: [
          {question:"‡§ö‡§Ç‡§¶‡•ç‡§∞‡§ó‡•Å‡§™‡•ç‡§§ ‡§Æ‡•å‡§∞‡•ç‡§Ø ‡§ï‡•á ‡§ó‡•Å‡§∞‡•Å ‡§ï‡•å‡§® ‡§•‡•á?", options:["‡§ö‡§æ‡§£‡§ï‡•ç‡§Ø","‡§∞‡§æ‡§Æ‡§æ‡§®‡•Å‡§ú","‡§™‡§§‡§Ç‡§ú‡§≤‡§ø","‡§ï‡§æ‡§≤‡§ø‡§¶‡§æ‡§∏"], answer:"‡§ö‡§æ‡§£‡§ï‡•ç‡§Ø"}
        ]
      },
      economics: {
        basics: [
          {question:"‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options:["‡§°‡•â‡§≤‡§∞","‡§∞‡•Å‡§™‡§Ø‡§æ","‡§™‡•å‡§Ç‡§°","‡§Ø‡•Ç‡§∞‡•ã"], answer:"‡§∞‡•Å‡§™‡§Ø‡§æ"}
        ],
        gdp: [
          {question:"GDP ‡§ï‡§æ ‡§´‡•Å‡§≤ ‡§´‡•â‡§∞‡•ç‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options:["Gross Domestic Product","Global Data Power","Great Development Plan","Government Data Policy"], answer:"Gross Domestic Product"}
        ]
      }
    };

    let currentSection = "";
    let currentTopic = "";
    let currentQuestion = 0;
    let userAnswers = {};

    // Open Topics from Section
    function openTopics(section){
      currentSection = section;
      document.getElementById("section-menu").style.display="none";
      let topicDiv = document.getElementById("topic-menu");
      topicDiv.style.display="block";
      let html = `<h2>Choose Topic (${section.toUpperCase()})</h2>`;
      for(let topic in sections[section]){
        html += `<button onclick="startQuiz('${topic}')">${topic}</button>`;
      }
      html += `<br><br><button onclick="backToSections()">‚¨Ö Back</button>`;
      topicDiv.innerHTML = html;
    }

    // Back to Section Menu
    function backToSections(){
      document.getElementById("topic-menu").style.display="none";
      document.getElementById("section-menu").style.display="block";
    }

    // Start Quiz
    function startQuiz(topic){
      currentTopic = topic;
      currentQuestion = 0;
      userAnswers = {};
      document.getElementById("topic-menu").style.display="none";
      document.getElementById("quiz").style.display="block";
      document.getElementById("result-container").style.display="none";
      loadQuestion();
    }

    // Load Question
    function loadQuestion(){
      let questions = sections[currentSection][currentTopic];
      let q = questions[currentQuestion];
      let html = `<h3>Q${currentQuestion+1}. ${q.question}</h3>`;
      q.options.forEach(opt=>{
        let checked = userAnswers[currentQuestion]===opt ? "checked" : "";
        html += `<label><input type="radio" name="q${currentQuestion}" value="${opt}" ${checked}> ${opt}</label><br>`;
      });
      document.getElementById("question-container").innerHTML = html;
    }

    // Save Answer
    function saveAnswer(){
      let selected = document.querySelector(`input[name="q${currentQuestion}"]:checked`);
      if(selected) userAnswers[currentQuestion] = selected.value;
    }

    // Next Question
    function nextQuestion(){
      saveAnswer();
      let questions = sections[currentSection][currentTopic];
      if(currentQuestion < questions.length-1){
        currentQuestion++;
        loadQuestion();
      }
    }

    // Prev Question
    function prevQuestion(){
      saveAnswer();
      if(currentQuestion > 0){
        currentQuestion--;
        loadQuestion();
      }
    }

    // Show Result
    function showResult(){
      saveAnswer();
      let questions = sections[currentSection][currentTopic];
      let resultHTML = "<h2>Result</h2>";
      let score = 0;

      questions.forEach((q,i)=>{
        let user = userAnswers[i] || "‡§ï‡•ã‡§à ‡§ú‡§µ‡§æ‡§¨ ‡§®‡§π‡•Ä‡§Ç";
        let correct = (user === q.answer);
        if(correct) score++;
        resultHTML += `
          <div class="card">
            <p><b>Q${i+1}: ${q.question}</b></p>
            <p>‡§Ü‡§™‡§ï‡§æ ‡§ú‡§µ‡§æ‡§¨: <span style="color:${correct ? 'green' : 'red'}">${user}</span></p>
            <p>‡§∏‡§π‡•Ä ‡§ú‡§µ‡§æ‡§¨: <b style="color:green">${q.answer}</b></p>
          </div>
        `;
      });

      resultHTML += `<h3>‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞: ${score} / ${questions.length}</h3>`;
      resultHTML += `<button onclick="restartQuiz()">üîÑ Restart</button>`;

      document.getElementById("quiz").style.display="none";
      document.getElementById("result-container").style.display="block";
      document.getElementById("result-container").innerHTML = resultHTML;
    }

    // Restart Quiz
    function restartQuiz(){
      currentQuestion = 0;
      userAnswers = {};
      document.getElementById("quiz").style.display="none";
      document.getElementById("result-container").style.display="none";
      document.getElementById("section-menu").style.display="block";
    }
  </script>
</body>
</html>
